<p-dialog header="Miembros" [(visible)]="isModalCommunityMembersVisible" [style]="{ width: '50vw', height:'500px'}" [modal]="true" (onHide)="closeModal()">
    <p-table #dt1 [value]="communityMembers" dataKey="id" [rows]="10" [showCurrentPageReport]="true"
    [rowsPerPageOptions]="[10,20,30]" [paginator]="true"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    [globalFilterFields]="['name', 'email', 'lastname']">
    <ng-template pTemplate="caption">
        <div class="flex">
            <span class="p-input-icon-left ml-auto">
                <i class="pi pi-search"></i>
                <input pInputText type="text" [placeholder]="'Buscar usuarios'" [(ngModel)]="filter"
                    (input)="dt1.filterGlobal(filter, 'contains')" />
            </span>
        </div>
    </ng-template>
    <ng-template pTemplate="header">
        <tr>
            <th style="min-width:15rem">
                <div class="flex align-items-center">
                    Nombre
                    <p-columnFilter type="text" field="name" placeholder="Busca un nombre" display="menu"
                        matchMode="contains" [showMatchModes]="false" [showOperator]="false"
                        [showAddButton]="false"></p-columnFilter>
                </div>
            </th>
            <th style="min-width:15rem">
                <div class="flex align-items-center">
                    Apellido
                    <p-columnFilter type="text" field="lastname" placeholder="Busca un apellido" display="menu"
                        matchMode="contains" [showMatchModes]="false" [showOperator]="false"
                        [showAddButton]="false"></p-columnFilter>
                </div>
            </th>
            <th style="min-width:15rem">
                <div class="flex align-items-center">
                    Email
                    <p-columnFilter type="text" field="email" placeholder="Busca un email" display="menu"
                        matchMode="contains" [showMatchModes]="false" [showOperator]="false"
                        [showAddButton]="false"></p-columnFilter>
                </div>
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-user>
        <tr>
            <td class="cursor-pointer"  >
                <p-button (onClick)="seeUser(user.id)" styleClass="p-button-link">
                    {{ user.name }}
                </p-button>
            </td>
            <td>
                {{ user.lastname }}
            </td>
            <td>
                {{ user.email }}
            </td>
    </ng-template>
    <ng-template pTemplate="emptymessage">
        <tr>
            <td colspan="4">Usuarios no encontrados.</td>
        </tr>
    </ng-template>
</p-table>
</p-dialog>
